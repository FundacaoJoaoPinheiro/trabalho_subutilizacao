---
title: "Indicadores no R indicadores de outras formas de trabalho na PNADC anual"
author: "Italo Mendonça"
date: "27-novembro-2024"
output:
   bookdown::html_document2:
    toc: true
    toc_float: true
    number_sections: true
    df_print: kable
    fig_caption: TRUE
editor_options:
  markdown:
    wrap: 72
bibliography: references.bib
csl: associacao-brasileira-de-normas-tecnicas-ufrgs.csl
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)  # Esta linha de código é usada para definir opções globais para todos os trechos de código (chunks) encontrados no documento. o argumento "echo = TRUE" indica que o código contido em cada chunk deve ser exibido no documento final gerado a partir do arquivo R Markdown. Ou seja, quando o documento for renderizado (convertido para um formato final como PDF, HTML, etc.), o código R que foi escrito dentro de cada chunk aparecerá ao lado dos resultados de sua execução.
```

O objetivo deste tutorial é extrair os dados amostrais da PNADC anual de
outras formas de trabalho com auxílio do pacote PNADcIBGE [@PNADcIBGE].

# Pergunta orientadora

Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por posição na ocupação e categoria do emprego no trabalho principal


# Base de dados e conferência dos dados

Os dados necessários para responder a pergunta proposta estão presentes
na quinta visita da PNADC.

```{r dados, echo=TRUE, warning=FALSE}
# carrega as bibliotecas
library(PNADcIBGE) # Carrega o pacote PNADcIBGE
library(survey) # Carrega o pacote survey
library(dplyr) # Carrega o pacote dplyr
library(knitr) # Carrega o pacote knitr

# definição de variáveis - cria um vetor com as variáveis que serão importadas da PNADc
variaveis_selecionadas <- c(
  "UF",
  "VD4001",
  "VD4002",
  "V4013",
  "VD4020",
  "VD3005",
  "V4012",
  "VD4007",
  "VD4009",
  "VD4010",
  "VD4011",
  "V2007",
  "V2010",
  "V2009",
  "VD4039",
  "VD3004",
  "VD4035"
)

# importando os dados do servidor do IBGE
dadosPNADc <- get_pnadc(year = 2022,
                        interview = 5,
                        vars = variaveis_selecionadas)


options(survey.lonely.psu = "adjust", encoding="UTF-8")

# Opção de vizualização de números
# A linha de código a seguir instrui o ambiente a evitar a notação científica ao
# imprimir números. Isso significa que números muito grandes ou muito pequenos
# serão exibidos na sua forma completa, sem a utilização do formato exponencial
# (como 1e+10 ou 1e-10).
options(scipen = 999)

# modifica e cria variáveis
dadosPNADc$variables <- dadosPNADc$variables %>%
  mutate(
    one = 1,
    ocupados = 1 * (
      VD4002 == "Pessoas ocupadas"
    ),
     desocupados = 1 * (
      VD4002 == "Pessoas desocupadas"
    ),
    raca_cor = case_when(
      V2010 == "Preta" | V2010 == "Parda" ~ "Preta ou parda",
      V2010 == "Amarela"  |
        V2010 == "Indígena" | V2010 == "Ignorado" ~ "Outras",
      V2010 == "Branca" ~ "Branca"
    ),
    faixa_idade = case_when((V2009 >= 14 &
                               V2009 <= 29) ~ "0De14a29anos",
                            (V2009 >= 30 &
                               V2009 <= 44) ~ "de30a44anos",
                            (V2009 >= 45 &
                               V2009 <= 59) ~ "de45a59anos",
                            (V2009 >= 60) ~ "de60a+anos"
    ),
    estratos_geogr = case_when((
      Estrato == "3110213" |
        Estrato == "3110113" |
        Estrato == "3110112" |
        Estrato == "3110212" |
        Estrato == "3110111" |
        Estrato == "3110211"
    ) ~ "01-Belo Horizonte",
    (
      Estrato == "3120011" |
        Estrato == "3120013" |
        Estrato == "3120020" |
        Estrato == "3120012"
    ) ~ "02-Entorno metropolitono de BH",
    (Estrato == "3130011" |
       Estrato == "3130012" |
       Estrato == "3130020") ~ "03-Colar metropolitano de BH",
    (Estrato == "3140010" |
       Estrato == "3140020") ~ "04-RIDE de Brasília em Minas",
    (
      Estrato == "3151011" |
        Estrato == "3151012" |
        Estrato == "3151013" |
        Estrato == "3151021" |
        Estrato == "3151022" |
        Estrato == "3151023"
    ) ~ "05-Sul de Minas",
    (
      Estrato == "3152011" |
        Estrato == "3152012" |
        Estrato == "3152013" |
        Estrato == "3152021" |
        Estrato == "3152022"
    ) ~ "06-Triângulo Mineiro",
    (
      Estrato == "3153011" |
        Estrato == "3153012" |
        Estrato == "3153013" |
        Estrato == "3153021" |
        Estrato == "3153022" |
        Estrato == "3153023"
    ) ~ "07-Mata de Minas Gerais",
    (
      Estrato == "3154011" |
        Estrato == "3154012" |
        Estrato == "3154013" |
        Estrato == "3154021" |
        Estrato == "3154022" |
        Estrato == "3154023"
    ) ~ "08-Norte de Minas",
    (
      Estrato == "3155011" |
        Estrato == "3155012" |
        Estrato == "3155013" |
        Estrato == "3155021" |
        Estrato == "3155022" |
        Estrato == "3155023"
    ) ~ "09-Vale do Rio Doce",
    (
      Estrato == "3156011" |
        Estrato == "3156012" |
        Estrato == "3156013" |
        Estrato == "3156021" |
        Estrato == "3156022"
    ) ~ "10-Central"
    )
  )


```
#Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal

Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Diretores e gerentes


```{r}
total_01 <- svyby(~ocupados, by = ~estratos_geogr, subset(dadosPNADc, VD4011=="Diretores e gerentes"), svytotal, na.rm=TRUE)


knitr::kable(total_01,
             caption = "Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Diretores e gerentes")
```

Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Profissionais das ciências e intelectuais


```{r}
total_02 <- svyby(~ocupados, by = ~estratos_geogr, subset(dadosPNADc, VD4011=="Profissionais das ciências e intelectuais"), svytotal, na.rm=TRUE)


knitr::kable(total_02,
             caption = "Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Profissionais das ciências e intelectuais")
```

Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Técnicos e profissionais de nível médio


```{r}
total_03 <- svyby(~ocupados, by = ~estratos_geogr, subset(dadosPNADc, VD4011=="Técnicos e profissionais de nível médio"), svytotal, na.rm=TRUE)


knitr::kable(total_03,
             caption = "Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Técnicos e profissionais de nível médio")
```

Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Trabalhadores de apoio administrativo


```{r}
total_04 <- svyby(~ocupados, by = ~estratos_geogr, subset(dadosPNADc, VD4011=="Trabalhadores de apoio administrativo"), svytotal, na.rm=TRUE)


knitr::kable(total_04,
             caption = "Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Trabalhadores de apoio administrativo")
```

Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Trabalhadores dos serviços, vendedores dos comércios e mercados


```{r}
total_05 <- svyby(~ocupados, by = ~estratos_geogr, subset(dadosPNADc, VD4011=="Trabalhadores dos serviços, vendedores dos comércios e mercados"), svytotal, na.rm=TRUE)


knitr::kable(total_05,
             caption = "Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Trabalhadores dos serviços, vendedores dos comércios e mercados")
```

Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Trabalhadores qualificados da agropecuária, florestais, da caça e da pesca


```{r}
total_06 <- svyby(~ocupados, by = ~estratos_geogr, subset(dadosPNADc, VD4011=="Trabalhadores qualificados da agropecuária, florestais, da caça e da pesca"), svytotal, na.rm=TRUE)


knitr::kable(total_06,
             caption = "Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Trabalhadores qualificados da agropecuária, florestais, da caça e da pesca")
```

Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Trabalhadores qualificados, operários e artesões da construção, das artes mecânicas e outros ofícios


```{r}
total_07 <- svyby(~ocupados, by = ~estratos_geogr, subset(dadosPNADc, VD4011=="Trabalhadores qualificados, operários e artesões da construção, das artes mecânicas e outros ofícios"), svytotal, na.rm=TRUE)


knitr::kable(total_07,
             caption = "Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Trabalhadores qualificados, operários e artesões da construção, das artes mecânicas e outros ofícios")
```

Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Operadores de instalações e máquinas e montadores


```{r}
total_08 <- svyby(~ocupados, by = ~estratos_geogr, subset(dadosPNADc, VD4011=="Operadores de instalações e máquinas e montadores"), svytotal, na.rm=TRUE)


knitr::kable(total_08,
             caption = "Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Operadores de instalações e máquinas e montadores")
```

Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Ocupações elementares


```{r}
total_09 <- svyby(~ocupados, by = ~estratos_geogr, subset(dadosPNADc, VD4011=="Ocupações elementares"), svytotal, na.rm=TRUE)


knitr::kable(total_09,
             caption = "Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Ocupações elementares")
```

Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Membros das forças armadas, policiais e bombeiros militares


```{r}
total_10 <- svyby(~ocupados, by = ~estratos_geogr, subset(dadosPNADc, VD4011=="Membros das forças armadas, policiais e bombeiros militares"), svytotal, na.rm=TRUE)


knitr::kable(total_10,
             caption = "Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Membros das forças armadas, policiais e bombeiros militares")
```

Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Ocupações maldefinidas 


```{r}
total_11 <- svyby(~ocupados, by = ~estratos_geogr, subset(dadosPNADc, VD4011=="Ocupações maldefinidas"), svytotal, na.rm=TRUE)


knitr::kable(total_11,
             caption = "Pessoas de 14 anos ou mais de idade, ocupadas na semana de referência, por grupamento ocupacional no trabalho principal - Ocupações maldefinidas")
```